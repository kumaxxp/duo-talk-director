# Phase 2 終了時の改善タスク

## 設定ファイル外部化（優先度: 高）

### 背景
- 検出キーワード（毒舌トリガー、禁止ワード等）が今後増加する見込み
- ハードコーディングでは保守性が低い
- レポートで「なぜ検出したか」を明示する必要がある

### 対象ファイル
- `checks/context_check.py`: TOXICITY_REACTION_TRIGGERS, TOXIC_KEYWORDS
- `checks/tone_check.py`: ROLE_INFO, forbidden_words

### 推奨形式
YAML形式の設定ファイル（`config/detection_rules.yaml`）

### 実装方針
1. 設定ファイルローダーの作成
2. 既存のハードコード定数を設定ファイルから読み込むように変更
3. テスト用のフィクスチャ設定も用意
4. レポート出力時に使用した設定バージョンを記録

### レポート要件
- 検出に使用したキーワードリストをレポートに含める
- 設定ファイルのバージョン/ハッシュを記録
- 検出理由の詳細（どのキーワードにマッチしたか）を明記

---
Created: 2026-01-23
Status: Pending (Phase 2終了時に実施)
